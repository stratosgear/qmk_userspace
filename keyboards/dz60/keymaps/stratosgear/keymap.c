/* Copyright 2024 Stratos Gerakakis <stratos@gerakakis.net>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
#include QMK_KEYBOARD_H
#include "keymap.h"
#include "features/layersLightshow.h"
// #include "features/select_word.h"

// allows us to output debug messages dprint/dprintf ("%s string", var)
#include "print.h"

// Make special keycodes more visible
#define ____ KC_TRNS
#define XXXX KC_NO

// Activcate layers
#define ACT_FUNC MO(L_FUNCTIONAL)
#define ACT_FUN2 MO(L_FUNCTIONAL2)
#define ACT_KEYB MO(L_KEYBOARD)

// Switch between layer layouts
#define L_COLMK DF(L_COLEMAK_DH)
#define L_QWERT DF(L_QWERTY)

// Define custom keycodes
// enum custom_keycodes {
//     SELWORD = SAFE_RANGE,
//     // Other custom keys...
// };

void leader_start_user(void) {
    // Do something when the leader key is pressed
}

void leader_end_user(void) {
    if (leader_sequence_two_keys(KC_E, KC_G)) {
        SEND_STRING("stratosgear@gmail.com");
    } else if (leader_sequence_two_keys(KC_E, KC_S)) {
        SEND_STRING("stratos@gerakakis.net");
    }
}

// clang-format off
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

    [L_COLEMAK_DH] = // L_COLMK
        LAYOUT_directional(

        // |--------|----1---|----2---|----3---|---4----|---5----|---6----|---7----|---8----|---9----|---0----|-- - ---|-- = ---|-- ~ ---|--BSPC--|
             QK_GESC,  KC_1,    KC_2,    KC_3,   KC_4,    KC_5,    KC_6,    KC_7,    KC_8,    KC_9,    KC_0,   KC_MINS,  KC_EQL,  KC_GRV,  QK_LEAD,
        // |--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |----TAB------|---Q----|---W----|---E----|---R----|---T----|---Y----|---U----|---I----|---O----|---P----|-- [ ---|-- ] ---|------------|
               KC_TAB,     KC_Q,    KC_W,    KC_F,    KC_P,    KC_B,    KC_J,    KC_L,    KC_U,    KC_Y,   KC_SCLN,  KC_LBRC, KC_RBRC,  KC_BSLS   ,
        // |-------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|------------|
        //
        // |----CAPS-------|---A----|---S----|---D----|---F----|---G----|---H----|---J----|---K----|---L----|---;----|---'----|---- ENTER --------|
              KC_LGUI,       KC_A,    KC_R,    KC_S,    KC_T,    KC_G,    KC_M,    KC_N,    KC_E,    KC_I,   KC_O,     KC_QUOT,    KC_ENT         ,
        // |---------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|-------------------|
        //
        // |----- SHIFT -----|---Z----|---X----|---C----|---V----|---B----|---N----|---M----|---,----|---.----|-- / ---|--SHFT--|-- UP --|--DEL---|
                 KC_LSFT,      KC_Z,    KC_X,    KC_C,    KC_D,    KC_V,    KC_K,    KC_H,   KC_COMM,  KC_DOT,  KC_SLSH, KC_PGUP, KC_UP,  KC_PGDN ,
        // |-----------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |---CTRL---|----WIN----|----ALT----|--------SPACE----------|----FN----|------BCKSPC-------|---FN---|--CTRL--|--LEFT--|--DOWN--|-RIGHT--|
              KC_LCTL,    ACT_FUNC,    KC_LALT,           KC_SPC      ,    KC_DEL,      KC_BSPC      ,ACT_FUN2,ACT_KEYB, KC_LEFT, KC_DOWN, KC_RGHT),
        // |---1.25---|---1.25----|---1.25----|--------2.25-----------|---1.25---|------2.75---------|---1----|---1----|---1----|---1----|----1---|

    [L_QWERTY] =  // L_QWERT
        LAYOUT_directional(

        // |--------|----1---|----2---|----3---|---4----|---5----|---6----|---7----|---8----|---9----|---0----|-- - ---|-- = ---|-- ~ ---|--BSPC--|
              ____  ,   ____ ,   ____ ,   ____ ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,
        // |--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |----TAB------|---Q----|---W----|---E----|---R----|---T----|---Y----|---U----|---I----|---O----|---P----|-- [ ---|-- ] ---|------------|
               ____      ,  KC_Q  ,  KC_W  ,  KC_E  ,  KC_R  ,  KC_T  ,  KC_Y  ,  KC_U  ,  KC_I  ,  KC_O  ,  KC_P  ,   ____ ,  ____  ,   ____     ,
        // |-------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|------------|
        //
        // |----CAPS-------|---A----|---S----|---D----|---F----|---G----|---H----|---J----|---K----|---L----|---;----|---'----|---- ENTER --------|
                ____       ,  KC_A  ,  KC_S  ,  KC_D  ,  KC_F  ,  KC_G  ,  KC_H  ,  KC_J  ,  KC_K  ,  KC_L  , KC_SCLN,  ____  ,     ____          ,
        // |---------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|-------------------|
        //
        // |----- SHIFT -----|---Z----|---X----|---C----|---V----|---B----|---N----|---M----|---,----|---.----|-- / ---|--SHFT--|-- UP --|--DEL---|
                 ____        ,  KC_Z  ,  KC_X  ,  KC_C  ,  KC_V  ,  KC_B  ,  KC_N  ,  KC_M  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ,
        // |-----------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |---CTRL---|----WIN----|----ALT----|--------SPACE----------|----FN----|------BCKSPC-------|---FN---|--CTRL--|--LEFT--|--DOWN--|-RIGHT--|
               ____   ,    ____   ,    ____   ,        ____           ,   ____   ,      ____         ,  ____  ,  ____  ,  ____  ,  ____  ,  ____  ),
        // |---1.25---|---1.25----|---1.25----|--------2.25-----------|---1.25---|------2.75---------|---1----|---1----|---1----|---1----|----1---|

    [L_FUNCTIONAL] = // ACT_FUNC
        LAYOUT_directional(
        // |--------|----1---|----2---|----3---|---4----|---5----|---6----|---7----|---8----|---9----|---0----|-- - ---|-- = ---|-- ~ ---|--BSPC--|
              ____  ,   KC_F1,   KC_F2,   KC_F3,  KC_F4 ,  KC_F5 ,  KC_F6 ,  KC_F7 ,  KC_F8 ,  KC_F9 , KC_F10 ,  XXXX  ,  XXXX  , KC_INS , KC_PSCR,
        // |--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |----TAB------|---Q----|---W----|---E----|---R----|---T----|---Y----|---U----|---I----|---O----|---P----|-- [ ---|-- ] ---|---- \ -----|
              KC_CAPS    , KC_P7  , KC_P8  , KC_P9  , KC_PPLS, KC_PMNS, KC_HOME, KC_PGUP, KC_UP,   KC_PGDN,  XXXX ,  KC_ACL0, KC_ACL1,   KC_ACL2  ,
        // |-------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|------------|
        //
        // |----CAPS-------|---A----|---S----|---D----|---F----|---G----|---H----|---J----|---K----|---L----|---;----|---'----|---- ENTER --------|
                XXXX       , KC_P4  , KC_P5  , KC_P6  , KC_PAST, KC_PSLS, KC_END , KC_LEFT, KC_DOWN, KC_RGHT,  XXXX  ,  XXXX  ,     XXXX          ,
        // |---------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|-------------------|
        //
        // |----- SHIFT -----|---Z----|---X----|---C----|---V----|---B----|---N----|---M----|---,----|---.----|-- / ---|--SHFT--|-- UP --|--DEL---|
                  XXXX       ,  KC_P1 , KC_P2  , KC_P3  , KC_PDOT, KC_NUM ,  XXXX  ,  XXXX  ,  XXXX  ,  XXXX  , MS_WHLU, MS_BTN1,  MS_UP , MS_BTN2,
        // |-----------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |---CTRL---|----WIN----|----ALT----|--------SPACE----------|----FN----|------BCKSPC-------|---FN---|--CTRL--|--LEFT--|--DOWN--|-RIGHT--|
               XXXX   ,    ____   ,   KC_P0   ,       KC_PENT         ,  XXXX ,       ____        ,   XXXX , MS_WHLD, MS_LEFT, MS_DOWN, MS_RGHT),
        // |---1.25---|---1.25----|---1.25----|--------2.25-----------|---1.25---|------2.75---------|---1----|---1----|---1----|---1----|----1---|

    [L_FUNCTIONAL2] = // ACT_FUNC2
        LAYOUT_directional(
        // |--------|----1---|----2---|----3---|---4----|---5----|---6----|---7----|---8----|---9----|---0----|-- - ---|-- = ---|-- ~ ---|--BSPC--|
              ____  ,  KC_F11,  KC_F12,  KC_F13, KC_F14 ,  KC_F15,  KC_F16,  KC_F17,  KC_F18,  KC_F19,  KC_F20,  XXXX  ,  XXXX  ,  XXXX  ,  XXXX  ,
        // |--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |----TAB------|---Q----|---W----|---E----|---R----|---T----|---Y----|---U----|---I----|---O----|---P----|-- [ ---|-- ] ---|-----|------|
                XXXX     ,  XXXX  ,  XXXX  ,  XXXX  ,  XXXX  ,   XXXX ,  XXXX  ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,    XXXX    ,
        // |-------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|------------|
        //
        // |----CAPS-------|---A----|---S----|---D----|---F----|---G----|---H----|---J----|---K----|---L----|---;----|---'----|---- ENTER --------|
                XXXX       ,  XXXX  ,  XXXX  ,  XXXX  ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX , KC_MSTP,     XXXX          ,
        // |---------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|-------------------|
        //
        // |----- SHIFT -----|---Z----|---X----|---C----|---V----|---B----|---N----|---M----|---,----|---.----|-- / ---|--SHFT--|-- UP --|--DEL---|
                  XXXX       ,  XXXX  ,  XXXX  ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX , KC_MPLY, KC_VOLU,   XXXX ,
        // |-----------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |---CTRL---|----WIN----|----ALT----|--------SPACE----------|----FN----|------BCKSPC-------|---FN---|--CTRL--|--LEFT--|--DOWN--|-RIGHT--|
               XXXX   ,    XXXX   ,    XXXX   ,        ____           ,   ____   ,       ____        ,  ____  ,  XXXX  ,  XXXX  , KC_VOLD, KC_MUTE),
        // |---1.25---|---1.25----|---1.25----|--------2.25-----------|---1.25---|------2.75---------|---1----|---1----|---1----|---1----|----1---|

    [L_KEYBOARD]  = // ACT_KEYB
        LAYOUT_directional(
        // |--------|----1---|----2---|----3---|---4----|---5----|---6----|---7----|---8----|---9----|---0----|-- - ---|-- = ---|-- ~ ---|--BSPC--|
              ____  , L_COLMK, L_QWERT,   XXXX ,  XXXX  ,  XXXX ,   XXXX  ,  XXXX  ,  XXXX  ,  XXXX  ,  XXXX  ,  XXXX  ,  XXXX  , QK_RBT , QK_BOOT,
        // |--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |----TAB------|---Q----|---W----|---E----|---R----|---T----|---Y----|---U----|---I----|---O----|---P----|-- [ ---|-- ] ---|---- \ -----|
               XXXX      , DM_REC1, DM_REC2,   XXXX ,   XXXX ,   XXXX ,   XXXX , RGB_SPI, RGB_MOD, RGB_HUI, RGB_SAI, RGB_VAI, RGB_TOG,   XXXX     ,
        // |-------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|------------|
        //
        // |----CAPS-------|---A----|---S----|---D----|---F----|---G----|---H----|---J----|---K----|---L----|---;----|---'----|---- ENTER --------|
                XXXX       , DM_PLY1, DM_PLY2,   XXXX ,   XXXX ,   XXXX ,   XXXX , RGB_SPD,RGB_RMOD, RGB_HUD, RGB_SAD, RGB_VAD,      XXXX         ,
        // |---------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|-------------------|
        //
        // |----- SHIFT -----|---Z----|---X----|---C----|---V----|---B----|---N----|---M----|---,----|---.----|-- / ---|--SHFT--|-- UP --|--DEL---|
                  XXXX       , DM_RSTP,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,   XXXX ,  XXXX  ,  XXXX  ,  XXXX  ,  XXXX  ,  BL_UP , BL_TOGG,
        // |-----------------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
        //
        // |---CTRL---|----WIN----|----ALT----|--------SPACE----------|----FN----|------BCKSPC-------|---FN---|--CTRL--|--LEFT--|--DOWN--|-RIGHT--|
               XXXX   ,    XXXX   ,    XXXX   ,        ____           ,    ____  ,       ____        ,  XXXX  ,  ____  ,  XXXX  , BL_DOWN, XXXX   ),
        // |---1.25---|---1.25----|---1.25----|--------2.25-----------|---1.25---|------2.75---------|---1----|---1----|---1----|---1----|----1---|

    };
// clang-format on

// bool process_record_user(uint16_t keycode, keyrecord_t* record) {

//     if (!process_select_word(keycode, record, SELWORD)) {
//         return false;
//     }

//     // Your macros ...

//     return true;
// }
